const translations = {
	en: {
		title: "Resistance in Belgium",
		metaDescription: "Learn about the Belgian Resistance during World War II. Explore the stories of bravery and sacrifice that contributed to the liberation of Belgium.",
		hero: {
			title: "SEARCH FOR MEMBERS OF THE <br> RESISTANCE IN BELGIUM",
			description: "Search for members of the resistance",
			searchPlaceholder: "Search for a keyword, a name, a place, an event, or a source"
		},
		content: {
			title: "Resistance in Belgium",
			paragraph1: "During World War II, Belgium was home to a significant resistance movement. The Belgian Resistance played a crucial role in gathering intelligence, aiding Allied soldiers, and sabotaging German military operations. Comprising various groups such as the Front de l'Indépendance, Groupe G, and the Armée Secrète, these brave individuals risked their lives to fight against the occupying forces.",
			paragraph2: "The resistance efforts included distributing underground newspapers, organizing escape routes for downed Allied airmen, and carrying out acts of sabotage to disrupt the German war effort. Women and men from all walks of life participated, demonstrating incredible courage and solidarity in the face of oppression.",
			paragraph3: "Today, the legacy of the Belgian Resistance is remembered and honored for its contribution to the liberation of Belgium and the ultimate defeat of Nazi Germany. Their stories of bravery and sacrifice continue to inspire future generations.",
			learnMore: "Learn More About the Belgian Resistance"
		},
		footer: {
			contact: "Contact",
			followUs: "Follow us:",
			ethics: "Statement of Ethics",
			support: "Support Our Mission",
			rightsReserved: "© 2024 Resistance in Belgium. All rights reserved."
		},
		infoText: "All data is not yet online and this will take place in several phases over several years. Stay tuned for more updates.",
		about: "About",
		faq: "FAQ",
		data: "Data",
		menuLinks: {
			about: 'https://data.arch.be/wiki/About',
			faq: 'https://data.arch.be/wiki/FAQ',
			data: '#'
		},
		logos: {
			arch: "State Archives of Belgium",
			belspo: "Belspo - Belgian Science Policy",
			cegesoma: "CegeSoma.be",
			belgium: "Belgium.be"
		}
	},
	fr: {
		title: "Résistance en Belgique",
		metaDescription: "Découvrez la résistance belge pendant la Seconde Guerre mondiale. Explorez les histoires de bravoure et de sacrifice qui ont contribué à la libération de la Belgique.",
		hero: {
			title: "Recherchez des Membres de la </br> Résistance en Belgique",
			description: "Rechercher des membres de la résistance",
			searchPlaceholder: "Recherchez un mot-clé, un nom, un lieu, un événement ou une source"
		},
		content: {
			title: "Résistance en Belgique",
			paragraph1: "Pendant la Seconde Guerre mondiale, la Belgique abritait un mouvement de résistance important. La Résistance belge a joué un rôle crucial dans la collecte de renseignements, l'aide aux soldats alliés et le sabotage des opérations militaires allemandes. Composés de divers groupes tels que le Front de l'Indépendance, Groupe G et l'Armée Secrète, ces individus courageux ont risqué leur vie pour lutter contre les forces d'occupation.",
			paragraph2: "Les efforts de résistance comprenaient la distribution de journaux clandestins, l'organisation de routes d'évasion pour les aviateurs alliés abattus et la réalisation d'actes de sabotage pour perturber l'effort de guerre allemand. Des femmes et des hommes de tous horizons y ont participé, faisant preuve d'un courage et d'une solidarité incroyables face à l'oppression.",
			paragraph3: "Aujourd'hui, l'héritage de la Résistance belge est rappelé et honoré pour sa contribution à la libération de la Belgique et à la défaite ultime de l'Allemagne nazie. Leurs histoires de bravoure et de sacrifice continuent d'inspirer les générations futures.",
			learnMore: "En savoir plus sur la Résistance belge"
		},
		footer: {
			contact: "Contact",
			followUs: "Suivez-nous :",
			ethics: "Déclaration d'éthique",
			support: "Soutenez notre mission",
			rightsReserved: "© 2024 Résistance en Belgique. Tous droits réservés."
		},
		infoText: "Toutes les données ne sont pas encore en ligne et cela se fera en plusieurs phases sur plusieurs années. Restez à l'écoute pour plus de mises à jour.",
		about: "À propos",
		faq: "FAQ",
		data: "Données",
		menuLinks: {
			about: 'https://data.arch.be/wiki/%C3%80_propos',
			faq: 'https://data.arch.be/wiki/Foire_Aux_Questions',
			data: '#'
		},
		logos: {
			arch: "Archives de l'État en Belgique",
			belspo: "Belspo - Politique scientifique fédérale",
			cegesoma: "CegeSoma.be",
			belgium: "Belgium.be"
		}
	},
	nl: {
		title: "Verzet in België",
		metaDescription: "Lees meer over het Belgische verzet tijdens de Tweede Wereldoorlog. Ontdek de verhalen van moed en opoffering die hebben bijgedragen aan de bevrijding van België.",
		hero: {
			title: "Zoek naar Leden van het </br> Verzet in België",
			description: "Zoek naar leden van het verzet",
			searchPlaceholder: "Zoek naar een trefwoord, een naam, een plaats, een gebeurtenis of een bron"
		},
		content: {
			title: "Verzet in België",
			paragraph1: "Tijdens de Tweede Wereldoorlog was België de thuisbasis van een belangrijke verzetsbeweging. Het Belgische verzet speelde een cruciale rol bij het verzamelen van inlichtingen, het helpen van geallieerde soldaten en het saboteren van Duitse militaire operaties. Deze moedige individuen, die bestonden uit verschillende groepen zoals het Front de l'Indépendance, Groupe G en het Geheim Leger, riskeerden hun leven om tegen de bezettende troepen te vechten.",
			paragraph2: "De verzetsinspanningen omvatten het verspreiden van ondergrondse kranten, het organiseren van ontsnappingsroutes voor neergeschoten geallieerde vliegeniers en het uitvoeren van sabotageacties om de Duitse oorlogsvoering te verstoren. Vrouwen en mannen uit alle lagen van de bevolking namen deel, waarbij ze ongelooflijke moed en solidariteit toonden in het gezicht van onderdrukking.",
			paragraph3: "Vandaag de dag wordt de erfenis van het Belgische verzet herinnerd en geëerd voor zijn bijdrage aan de bevrijding van België en de uiteindelijke nederlaag van nazi-Duitsland. Hun verhalen van moed en opoffering blijven toekomstige generaties inspireren.",
			learnMore: "Meer informatie over het Belgische verzet"
		},
		footer: {
			contact: "Contact",
			followUs: "Volg ons:",
			ethics: "Ethische verklaring",
			support: "Ondersteun onze missie",
			rightsReserved: "© 2024 Verzet in België. Alle rechten voorbehouden."
		},
		infoText: "Nog niet alle gegevens zijn online beschikbaar en dit zal in meerdere fasen over meerdere jaren plaatsvinden. Blijf op de hoogte voor meer updates.",
		about: "Over",
		faq: "FAQ",
		data: "Gegevens",
		menuLinks: {
			about: 'https://data.arch.be/wiki/Over_ons',
			faq: 'https://data.arch.be/wiki/Vraagbaak',
			data: '#'
		},
		logos: {
			arch: "Rijksarchief in België",
			belspo: "Belspo - Federaal Wetenschapsbeleid",
			cegesoma: "CegeSoma.be",
			belgium: "Belgium.be"
		}
	},
	de: {
		title: "Widerstand in Belgien",
		metaDescription: "Erfahren Sie mehr über den belgischen Widerstand während des Zweiten Weltkriegs. Entdecken Sie Geschichten von Tapferkeit und Opferbereitschaft, die zur Befreiung Belgiens beigetragen haben.",
		hero: {
			title: "Suchen Sie nach Mitgliedern des </br> Widerstands in Belgien",
			description: "Suche nach Mitgliedern des Widerstands",
			searchPlaceholder: "Suchen Sie nach einem Schlüsselwort, einem Namen, einem Ort, einem Ereignis oder einer Quelle"
		},
		content: {
			title: "Widerstand in Belgien",
			paragraph1: "Während des Zweiten Weltkriegs war Belgien die Heimat einer bedeutenden Widerstandsbewegung. Der belgische Widerstand spielte eine entscheidende Rolle bei der Sammlung von Informationen, der Unterstützung alliierter Soldaten und der Sabotage deutscher Militäroperationen. Diese mutigen Individuen, bestehend aus verschiedenen Gruppen wie dem Front de l'Indépendance, Groupe G und der Armée Secrète, riskierten ihr Leben, um gegen die Besatzungstruppen zu kämpfen.",
			paragraph2: "Zu den Widerstandsbemühungen gehörten die Verteilung von Untergrundzeitungen, die Organisation von Fluchtrouten für abgeschossene alliierte Flieger und die Durchführung von Sabotageakten, um die deutsche Kriegsführung zu stören. Frauen und Männer aus allen Gesellschaftsschichten nahmen teil und zeigten unglaublichen Mut und Solidarität angesichts der Unterdrückung.",
			paragraph3: "Heute wird das Erbe des belgischen Widerstands für seinen Beitrag zur Befreiung Belgiens und zur endgültigen Niederlage Nazideutschlands erinnert und geehrt. Ihre Geschichten von Mut und Opferbereitschaft inspirieren auch zukünftige Generationen.",
			learnMore: "Mehr über den belgischen Widerstand erfahren"
		},
		footer: {
			contact: "Kontakt",
			followUs: "Folge uns:",
			ethics: "Ethikerklärung",
			support: "Unterstütze unsere Mission",
			rightsReserved: "© 2024 Widerstand in Belgien. Alle Rechte vorbehalten."
		},
		infoText: "Noch sind nicht alle Daten online verfügbar, und dies wird in mehreren Phasen über mehrere Jahre hinweg geschehen. Bleiben Sie dran für weitere Updates.",
		about: "Über",
		faq: "FAQ",
		data: "Daten",
		menuLinks: {
			about: 'https://data.arch.be/wiki/%C3%9Cber_uns',
			faq: 'https://data.arch.be/wiki/H%C3%A4ufig_gestellte_Fragen',
			data: '#'
		},
		logos: {
			arch: "Belgisches Staatsarchiv",
			belspo: "Belspo - Belgische Wissenschaftspolitik",
			cegesoma: "CegeSoma.be",
			belgium: "Belgium.be"
		}
	}
};

const languageNames = {
	en: { name: "English", flag: "images/icons/en.png" },
	fr: { name: "Français", flag: "images/icons/fr.svg" },
	nl: { name: "Nederlands", flag: "images/icons/nl.svg" },
	de: { name: "Deutsch", flag: "images/icons/de.svg" }
};

const getTranslation = ( lang, key ) => key.split( '.' ).reduce( ( obj, i ) => (obj ? obj[i] : null), translations[lang] ) || key;

const loadContentForLanguage = lang => {
	if( !translations[lang] ) {
		lang = 'en';
	}

	document.title = getTranslation( lang, 'title' );
	document.querySelector( 'meta[name="description"]' ).setAttribute( "content", getTranslation( lang, 'metaDescription' ) );
	document.querySelectorAll( '[data-translate]' ).forEach( el => el.innerHTML = getTranslation( lang, el.getAttribute( 'data-translate' ) ) );
	document.querySelectorAll( '[data-translate-placeholder]' ).forEach( el => el.placeholder = getTranslation( lang, el.getAttribute( 'data-translate-placeholder' ) ) );
	document.querySelectorAll( '[data-translate-href]' ).forEach( el => el.href = getTranslation( lang, el.getAttribute( 'data-translate-href' ) ) );
	document.querySelectorAll( '[data-translate-alt]' ).forEach( el => el.alt = getTranslation( lang, el.getAttribute( 'data-translate-alt' ) ) );
	document.querySelectorAll( '[data-translate-title]' ).forEach( el => el.title = getTranslation( lang, el.getAttribute( 'data-translate-title' ) ) );

	const { flag, name } = languageNames[lang];
	document.getElementById( 'languageDropdown' ).innerHTML = `<img src="${ flag }" alt="${ name }" width="20"> ${ name }`;
};

document.addEventListener( 'DOMContentLoaded', () => {
	let lang = new URLSearchParams( window.location.search ).get( 'lang' ) || 'en';
	if( !translations[lang] ) {
		window.location.href = `${ window.location.pathname }?lang=en`;
	} else {
		loadContentForLanguage( lang );
	}
} );
